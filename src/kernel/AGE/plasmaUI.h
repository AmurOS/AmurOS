#define BITMAP_SIZE 8

#define HEIGHTBORDERTOP 15
#define BASEBORDER 5
#define CORNERRADIUS 5
#define MAINCOLOR __vesa_VBE_RGB(51,51,51)

typedef struct __plasmaUI_Button
{
    int x;
    int y;
    int width;
    int height;
    int color;
    int background;
    char *str;
    int cornerRadius;
} __plasmaUI_Button;

void __plasmaUI_CreateButton(__plasmaUI_Button button)
{
    __vesa_RectR(button.x, button.y, button.width, button.height, button.cornerRadius, button.background);
    if (__std__strlen(button.str) > 0)
        __plasmaUI_drawString(button.x + (button.width - (__std__strlen(button.str) * BITMAP_SIZE)) / 2, button.y + (button.height / 2 - 4), button.color, button.str, __std__strlen(button.str));
}


// draw string and font
byte bitmaps_0_9[10][BITMAP_SIZE] = {
    // 0
    {0b00111100,
     0b01111110,
     0b01100110,
     0b01101110,
     0b01110110,
     0b01100110,
     0b01111110,
     0b00111100},

    // 1
    {0b00011000,
     0b01111000,
     0b01111000,
     0b00011000,
     0b00011000,
     0b00011000,
     0b00111100,
     0b00111100},

    // 2
    {0b00111100,
     0b01111110,
     0b01001110,
     0b00011100,
     0b00111000,
     0b01110000,
     0b01111110,
     0b01111110},

    // 3
    {0b01111100,
     0b01111100,
     0b00001110,
     0b00111110,
     0b00111110,
     0b00001110,
     0b01111100,
     0b01111100},

    // 4
    {0b00001100,
     0b00011100,
     0b00111100,
     0b01101100,
     0b01111100,
     0b01111100,
     0b00001100,
     0b00001100},

    // 5
    {0b01111110,
     0b01111110,
     0b01100000,
     0b01111100,
     0b01111110,
     0b00001110,
     0b01111110,
     0b01111100},

    // 6
    {0b00011100,
     0b00111100,
     0b00110000,
     0b01111000,
     0b01111100,
     0b01100110,
     0b01101110,
     0b01111100},

    // 7
    {0b01111110,
     0b01111110,
     0b00000110,
     0b00001100,
     0b00001100,
     0b00011000,
     0b00110000,
     0b00110000},

    // 8
    {0b00111100,
     0b01111110,
     0b01100110,
     0b00111100,
     0b00111100,
     0b01100110,
     0b01111110,
     0b00111100},

    // 9
    {0b00111100,
     0b01111110,
     0b01100110,
     0b01111110,
     0b00111110,
     0b00000110,
     0b01111110,
     0b01111100},
};

byte bitmaps_A_Z[26][BITMAP_SIZE] = {
    // A
    {0b00011000,
     0b00111100,
     0b01100110,
     0b01100110,
     0b01111110,
     0b01111110,
     0b01100110,
     0b01100110},

    // B
    {0b01111100,
     0b01100110,
     0b01100110,
     0b01111110,
     0b01111110,
     0b01100110,
     0b01100110,
     0b01111100},

    // C
    {0b00111110,
     0b01111110,
     0b01100000,
     0b01100000,
     0b01100000,
     0b01100000,
     0b01111110,
     0b00111110},

    // D
    {0b01111100,
     0b01111110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01111110,
     0b01111100},

    // E
    {0b01111110,
     0b01111110,
     0b01100000,
     0b01111000,
     0b01111000,
     0b01100000,
     0b01111110,
     0b01111110},

    // F
    {0b01111110,
     0b01111110,
     0b01100000,
     0b01111100,
     0b01111100,
     0b01100000,
     0b01100000,
     0b01100000},

    // G
    {0b01111110,
     0b01111110,
     0b01100000,
     0b01100000,
     0b01101110,
     0b01100110,
     0b01111110,
     0b01111110},

    // H
    {0b01100110,
     0b01100110,
     0b01100110,
     0b01111110,
     0b01111110,
     0b01100110,
     0b01100110,
     0b01100110},

    // I
    {0b01111110,
     0b01111110,
     0b00011000,
     0b00011000,
     0b00011000,
     0b00011000,
     0b01111110,
     0b01111110},
    // J
    {0b00111110,
     0b00111110,
     0b00001100,
     0b00001100,
     0b01101100,
     0b01101100,
     0b01111100,
     0b01111100},

    // K
    {0b01100010,
     0b01100110,
     0b01101100,
     0b01111000,
     0b01110000,
     0b01111000,
     0b01101100,
     0b01100110},

    // L
    {0b01100000,
     0b01100000,
     0b01100000,
     0b01100000,
     0b01100000,
     0b01100000,
     0b01111110,
     0b01111110},

    // M
    {0b00100100,
     0b01111110,
     0b01111110,
     0b01111110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01100110},

    // N
    {0b01100110,
     0b01100110,
     0b01110110,
     0b01111110,
     0b01111110,
     0b01101110,
     0b01100110,
     0b01100110},

    // O
    {0b00111100,
     0b01111110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01111110,
     0b00111100},

    // P
    {0b01111100,
     0b01111110,
     0b01100110,
     0b01111110,
     0b01111100,
     0b01100000,
     0b01100000,
     0b01100000},

    // Q
    {0b00111100,
     0b01111110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01111110,
     0b00111000,
     0b00011100},

    // R
    {0b01111100,
     0b01111110,
     0b01100110,
     0b01111110,
     0b01111100,
     0b01111000,
     0b01101100,
     0b01100110},

    // S
    {0b00111110,
     0b01111110,
     0b01110010,
     0b00111000,
     0b00011100,
     0b01001110,
     0b01111110,
     0b01111100},

    // T
    {0b01111110,
     0b01111110,
     0b00011000,
     0b00011000,
     0b00011000,
     0b00011000,
     0b00011000,
     0b00011000},

    // U
    {0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01111110,
     0b00111100},

    // V
    {0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b00111100,
     0b00011000},

    // W
    {0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b01111110,
     0b00111100,
     0b01111110,
     0b01100110},

    // X
    {0b01100110,
     0b01100110,
     0b01100110,
     0b00111100,
     0b00111100,
     0b01100110,
     0b01100110,
     0b01100110},

    // Y
    {0b01100110,
     0b01100110,
     0b01100110,
     0b01100110,
     0b00111100,
     0b00011000,
     0b00011000,
     0b00011000},

    // Z
    {0b01111110,
     0b01111110,
     0b00001110,
     0b00011100,
     0b00111000,
     0b01110000,
     0b01111110,
     0b01111110}

};
// putpixels of 0-9 bits from right-to-left
void __plasmaUI_drawNumbitmaps(int index, int x, int y, int color)
{
    bit8 temp = 0, pix = 0;

    for (byte i = 0; i < BITMAP_SIZE; i++)
    {
        temp = x;
        x += BITMAP_SIZE;
        pix = bitmaps_0_9[index][i];
        while (pix > 0)
        {
            if (pix & 1)
            {
                __vesa_putpixel(x, y, color);
            }
            pix >>= 1;
            x--;
        }
        x = temp;
        y++;
    }
}

// putpixels of A-Z bits from right-to-left
void __plasmaUI_drawAlphabitmaps(int index, int x, int y, int color)
{
    bit8 temp = 0, pix = 0;

    for (byte i = 0; i < BITMAP_SIZE; i++)
    {
        temp = x;
        x += BITMAP_SIZE;
        pix = bitmaps_A_Z[index][i];
        while (pix > 0)
        {
            if (pix & 1)
            {
                __vesa_putpixel(x, y, color);
            }
            pix >>= 1;
            x--;
        }
        x = temp;
        y++;
    }
}

void __plasmaUI_drawChar(int x, int y, int color, char ch)
{
    if (ch >= '0' && ch <= '9')
    {
        __plasmaUI_drawNumbitmaps(ch - '0', x, y, color);
    }
    else if (ch >= 'A' && ch <= 'Z')
    {
        __plasmaUI_drawAlphabitmaps((ch - '0') - 17, x, y, color);
    }
    else if (ch >= 'a' && ch <= 'z')
    {
        __plasmaUI_drawAlphabitmaps(((ch - 32) - '0') - 17, x, y, color);
    }
}

void __plasmaUI_drawString(int x, int y, int color, char *str, int size)
{
    for (int i = 0; i < __std__strlen(str); i++)
    {
        __plasmaUI_drawChar(x, y, color, str[i]);
        x += BITMAP_SIZE;
    }
}